<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net8.0</TargetFramework>
	<SatelliteResourceLanguages>en</SatelliteResourceLanguages>
	<ServerGarbageCollection>true</ServerGarbageCollection>
	  <LangVersion>preview</LangVersion>
	  <StartupObject>Run.Run</StartupObject>
	  <Platforms>AnyCPU;x64</Platforms>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.4.0-preview-20220726-02" />
	  <PackageReference Include="MSTest.TestAdapter" Version="2.2.10" />
	  <PackageReference Include="MSTest.TestFramework" Version="2.2.10" />
  </ItemGroup>

  <ItemGroup>
    <None Update="run\source\ast.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\source\block.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\source\builder.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\source\errors.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\source\module.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\source\program.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\source\main.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\source\scanner.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\source\token.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V10\run.h">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V10\sample1.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V10\builtin.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V10\system.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V11\builtin.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V11\run.h">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V11\sample1.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V11\system.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\3d\glfw.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\allocator.h">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\allocator.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\array.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\builtin.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\io.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\io\console.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\io\directory.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\io\file.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\io\filebase.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\io\filereader.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\io\filewriter.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\io\iwriter.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\map.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\math.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\net\socket.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\primitives.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\reflection.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\string.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="run\V12\lib\system.run">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="tcc\libtcc.dll">
      <CopyToOutputDirectory>Never</CopyToOutputDirectory>
    </None>
    <None Update="tcc\tcc.exe">
      <CopyToOutputDirectory>Never</CopyToOutputDirectory>
    </None>
  </ItemGroup>

  <ItemGroup>
    <Folder Include="run\V12\lib\net\" />
    <Folder Include="run\V12\lib\3d\" />
  </ItemGroup>

  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <Exec Command="xcopy &quot;$(ProjectDir)tcc\*.*&quot; &quot;$(TargetDir)\run\V12\tcc\&quot; /Y /I /E" />
  </Target>

</Project>
